{"name":"TBK Gem","google":"UA-18659564-5","tagline":"Pure Ruby implementation of Transbank's Webpay protocol","body":"### Sample usage\r\n```ruby\r\nclass WebpayController < ApplicationController\r\n\r\n  # Start a payment\r\n  def pay\r\n    commerce = TBK::Commerce.new({\r\n      id: '597026007976',\r\n      test: true,\r\n      key: TBK::TEST_KEY\r\n    })\r\n\r\n    payment = TBK::Webpay::Payment.new({\r\n      commerce: commerce,\r\n      amount: 1000,\r\n      order_id: 'ORDER_ID',\r\n      success_url: webpay_success_url,\r\n      confirmation_url: webpay_confirmation_url(host: 'SERVER_IP_ADDRESS')\r\n    })\r\n\r\n    redirect_to payment.redirect_url\r\n  end\r\n\r\n  # Confirmation callback\r\n  def confirmation\r\n    commerce = TBK::Commerce.new({\r\n      id: '597026007976',\r\n      test: true,\r\n      key: TBK::TEST_KEY\r\n    })\r\n\r\n    confirmation = TBK::Webpay::Confirmation.new({\r\n      commerce: commerce,\r\n      body: request.body\r\n    })\r\n\r\n    # Order data is in confirmation.order_id\r\n    # Paid amount is at confirmation.amount\r\n\r\n    # Acknowledge payment\r\n    render text: confirmation.acknowledge\r\n  end\r\n\r\nend\r\n```\r\n","note":"Don't delete this file! It's used internally to help with page regeneration."}